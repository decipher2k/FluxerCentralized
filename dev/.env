NODE_ENV=development

FLUXER_API_PUBLIC_ENDPOINT=http://127.0.0.1:8088/api
FLUXER_API_CLIENT_ENDPOINT=
FLUXER_APP_ENDPOINT=http://localhost:8088
FLUXER_GATEWAY_ENDPOINT=ws://127.0.0.1:8088/gateway
FLUXER_MEDIA_ENDPOINT=http://127.0.0.1:8088/media
FLUXER_CDN_ENDPOINT=https://fluxerstatic.com
FLUXER_MARKETING_ENDPOINT=http://127.0.0.1:8088
FLUXER_ADMIN_ENDPOINT=http://127.0.0.1:8088
FLUXER_INVITE_ENDPOINT=http://fluxer.gg
FLUXER_GIFT_ENDPOINT=http://fluxer.gift
FLUXER_API_HOST=api:8080

FLUXER_API_PORT=8080
FLUXER_GATEWAY_WS_PORT=8080
FLUXER_GATEWAY_RPC_PORT=8081
FLUXER_MEDIA_PROXY_PORT=8080
FLUXER_ADMIN_PORT=8080
FLUXER_MARKETING_PORT=8080

FLUXER_PATH_GATEWAY=/gateway
FLUXER_PATH_ADMIN=/admin
FLUXER_PATH_MARKETING=/marketing

API_HOST=api:8080
FLUXER_GATEWAY_RPC_HOST=
FLUXER_GATEWAY_PUSH_ENABLED=false
FLUXER_GATEWAY_PUSH_USER_GUILD_SETTINGS_CACHE_MB=1024
FLUXER_GATEWAY_PUSH_SUBSCRIPTIONS_CACHE_MB=1024
FLUXER_GATEWAY_PUSH_BLOCKED_IDS_CACHE_MB=1024
FLUXER_GATEWAY_IDENTIFY_RATE_LIMIT_ENABLED=false

FLUXER_MEDIA_PROXY_HOST=
MEDIA_PROXY_ENDPOINT=

VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_EMAIL=support@fluxer.app

SUDO_MODE_SECRET=
PASSKEYS_ENABLED=true
PASSKEY_RP_NAME=Fluxer
PASSKEY_RP_ID=127.0.0.1
PASSKEY_ALLOWED_ORIGINS=http://127.0.0.1:8088,http://localhost:8088

ADMIN_OAUTH2_CLIENT_ID=
ADMIN_OAUTH2_CLIENT_SECRET=
ADMIN_OAUTH2_AUTO_CREATE=false
ADMIN_OAUTH2_REDIRECT_URI=http://127.0.0.1:8088/admin/oauth2_callback

RELEASE_CHANNEL=stable

DATABASE_URL=postgresql://postgres:postgres@postgres:5432/fluxer

REDIS_URL=redis://redis:6379

CASSANDRA_HOSTS=cassandra
CASSANDRA_KEYSPACE=fluxer
CASSANDRA_LOCAL_DC=datacenter1
CASSANDRA_USERNAME=cassandra
CASSANDRA_PASSWORD=cassandra

AWS_S3_ENDPOINT=http://minio:9000
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin

AWS_S3_BUCKET_CDN=fluxer
AWS_S3_BUCKET_UPLOADS=fluxer-uploads
AWS_S3_BUCKET_DOWNLOADS=fluxer-downloads
AWS_S3_BUCKET_REPORTS=fluxer-reports
AWS_S3_BUCKET_HARVESTS=fluxer-harvests

R2_S3_ENDPOINT=http://minio:9000
R2_ACCESS_KEY_ID=minioadmin
R2_SECRET_ACCESS_KEY=minioadmin

METRICS_MODE=noop

CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_DATABASE=fluxer_metrics
CLICKHOUSE_USER=fluxer
CLICKHOUSE_PASSWORD=fluxer_dev

ANOMALY_DETECTION_ENABLED=true
ANOMALY_WINDOW_SIZE=100
ANOMALY_ZSCORE_THRESHOLD=3.0
ANOMALY_CHECK_INTERVAL_SECS=60
ANOMALY_COOLDOWN_SECS=300
ANOMALY_ERROR_RATE_THRESHOLD=0.05
ALERT_WEBHOOK_URL=

EMAIL_ENABLED=false
SENDGRID_FROM_EMAIL=noreply@fluxer.app
SENDGRID_FROM_NAME=Fluxer
SENDGRID_API_KEY=
SENDGRID_WEBHOOK_PUBLIC_KEY=

SMS_ENABLED=false
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_VERIFY_SERVICE_SID=

CAPTCHA_ENABLED=true
CAPTCHA_PRIMARY_PROVIDER=turnstile

HCAPTCHA_SITE_KEY=10000000-ffff-ffff-ffff-000000000001
HCAPTCHA_PUBLIC_SITE_KEY=10000000-ffff-ffff-ffff-000000000001
HCAPTCHA_SECRET_KEY=0x0000000000000000000000000000000000000000

TURNSTILE_SITE_KEY=1x00000000000000000000AA
TURNSTILE_PUBLIC_SITE_KEY=1x00000000000000000000AA
TURNSTILE_SECRET_KEY=1x0000000000000000000000000000000AA

SEARCH_ENABLED=true
MEILISEARCH_URL=http://meilisearch:7700
MEILISEARCH_API_KEY=masterKey

STRIPE_ENABLED=false
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

STRIPE_PRICE_ID_MONTHLY_USD=
STRIPE_PRICE_ID_MONTHLY_EUR=
STRIPE_PRICE_ID_YEARLY_USD=
STRIPE_PRICE_ID_YEARLY_EUR=
STRIPE_PRICE_ID_VISIONARY_USD=
STRIPE_PRICE_ID_VISIONARY_EUR=
STRIPE_PRICE_ID_GIFT_VISIONARY_USD=
STRIPE_PRICE_ID_GIFT_VISIONARY_EUR=
STRIPE_PRICE_ID_GIFT_1_MONTH_USD=
STRIPE_PRICE_ID_GIFT_1_MONTH_EUR=
STRIPE_PRICE_ID_GIFT_1_YEAR_USD=
STRIPE_PRICE_ID_GIFT_1_YEAR_EUR=

CLOUDFLARE_PURGE_ENABLED=false
CLOUDFLARE_ZONE_ID=
CLOUDFLARE_API_TOKEN=
CLOUDFLARE_TUNNEL_TOKEN=

VOICE_ENABLED=true
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=
LIVEKIT_WEBHOOK_URL=http://api:8080/webhooks/livekit
LIVEKIT_AUTO_CREATE_DUMMY_DATA=true

CLAMAV_ENABLED=false
CLAMAV_HOST=clamav
CLAMAV_PORT=3310

TENOR_API_KEY=
YOUTUBE_API_KEY=

SECRET_KEY_BASE=
GATEWAY_RPC_SECRET=
GATEWAY_ADMIN_SECRET=
ERLANG_COOKIE=fluxer_dev_cookie
MEDIA_PROXY_SECRET_KEY=

SELF_HOSTED=false
AUTO_JOIN_INVITE_CODE=
FLUXER_VISIONARIES_GUILD_ID=
FLUXER_OPERATORS_GUILD_ID=

GIT_SHA=dev
BUILD_TIMESTAMP=

# ─── SSO Configuration ──────────────────────────────────────────
# Enable SSO for cross-instance global session management.
# When disabled, sessions are only valid on the instance that created them.
SSO_ENABLED=true
SSO_ENDPOINT=http://sso:8090
SSO_SERVER_URL=http://sso:8090
SSO_SERVICE_SECRET=VjPITDVqA6W1rWF_jlFY89ANMEPhX5EswPPipEl6rw8FIzIenNe7oz_PP38K1C3W
SSO_PORT=8090

# SSO JWT Keys — generate with: cd fluxer_sso && pnpm generate-keys
# Paste the output PEM strings here (use single-line with \n or multi-line).
SSO_JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDn5XM+1WU2kKJi\nrQzezWeHD92D7xd1Wx5F1CLF1Z/96OfgapqZwsmvxfK7q0PCN3enyAkpwySSKX/6\nVX0iMDxp7R8s81Tfx0Ot2J/7cGGEL7eF9Bv+kSuF9nBbFgjYndWdJzi98fbFp/2c\nrdz/WZTXTWyDnlvhkfpCF6CkzYKxsamGTFU26DA8cQWJMaIjExIkKdPdEUOdwA+z\nJ2AsHwBGVXf4/G/vUQofbKpTcmuZyd6/4idjrvyXHa/QQkfJEYdICh8lqSwSHs/D\nH4GNDvlGwXwKZncxAxyv+9Nul4pEsAbZL05J59SWMBF3GRMZjJG1e8PaQTmL58aB\nvhxXZAZvAgMBAAECggEAZ5eQIo8YnkYBTJxqpfNTXrn/Jkt+Cr5wKRiJiiASz04m\nm5Fzy+GA0KVYeG6bH91AdjK9qSrUIPkqAw4Cju3GZzl21lFDZo4xFS2y1hOPdIoO\nbWgtw0xdiYQcEAypWf80KHaXef7n0sdnW4EtuuJtQ7sCEVACUqOwDKtaZ5So4DCY\nHaMaZTBaWZNwnoW7HjNv1wJSrB5op4XpfvVTuAdsijvheiTfHx2CiZvsjqawHTVD\nZC3e9BZsf3LoXdC/BeQnlOVZn6A7SRi+x6GcW/4Rq8cCt50XwTABXwDmAOJ5GI9P\nEC79y3AjYywFOlzu4lFRWBY229O/EizdiXLFKMlKoQKBgQD+FVUb3byvE/Oh8M0B\nD8aBfZp35XQI23Nltsmsw+SoCWPeqjbZYZ7BuZ+4qpps8nZESYdfBhyVAs9BgNDK\n2uEZbeeSv40vXMFX/eARv92gTxW/+RYwMabrY+mX/OdfT2OTkEXBRxGzRybyvHAz\nOCaxpfv9ng9+h9k8TatLx8b/YQKBgQDppUWN7bXKIRb0BzbVozBkDR122hI2LFlF\n4zXgy5UyS6gVm0NfDdiaXWkryTrri0a1iy06gQ14TcJFgOUuBF4I6I8jZyWTcVbX\nP+mgHeXrIxjutEx1D0AeZpynLvcznD1ZFlOYssZmmpqbbnB2pELRedz8+BxjBOWU\ngXdCL+vnzwKBgQCMMrUtlSKB8J5kYvybc1rzJJ1RPvjR0lVQcJXDkKvg1J2YxY9S\nT31MI+KwAOMI7pi3gWMC2dp3ln9KA4wyAqhmYbB/1tZOpf3BUcKLyLS/uiOkNAs8\nOImEJTNFvDTm8GVfjSIQTejEZaRmF/hJKtie+ZmcDdU62jbSAYFdZTS2wQKBgBCh\nlA7jQdJugozCSrPwVsx4ZoWERlGW3I/t+XLT6v3WhtNq5uPIP4fVaFwWidwkYNch\nXgnRD91lY5PA9g9NfkgSDcZOXE1ffvf5c67TEf+n0umC6gJXIJBJa5M285+32mIS\nBcdTym2ZSbIQrW60iJESpJlZK+QcgB8PDCco9BjfAoGBAOLqhXyELIkMNkQrR8uV\naaPH0r+VYG7ewbBIoJWiI9iBNn/HSElNWnnAQtYbv4cicdNj9xfeWjZ8n6La69qM\nEaN3SoavfqIL6BucevcX6qbBK3pcPPbS3YkoltXuJVED7pwCDGAO82eyL6olXEtN\nfLHSOYKKef+2HDnnJFNSk6+Y\n-----END PRIVATE KEY-----"
SSO_JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5+VzPtVlNpCiYq0M3s1n\nhw/dg+8XdVseRdQixdWf/ejn4GqamcLJr8Xyu6tDwjd3p8gJKcMkkil/+lV9IjA8\nae0fLPNU38dDrdif+3BhhC+3hfQb/pErhfZwWxYI2J3VnSc4vfH2xaf9nK3c/1mU\n101sg55b4ZH6QhegpM2CsbGphkxVNugwPHEFiTGiIxMSJCnT3RFDncAPsydgLB8A\nRlV3+Pxv71EKH2yqU3Jrmcnev+InY678lx2v0EJHyRGHSAofJaksEh7Pwx+BjQ75\nRsF8CmZ3MQMcr/vTbpeKRLAG2S9OSefUljARdxkTGYyRtXvD2kE5i+fGgb4cV2QG\nbwIDAQAB\n-----END PUBLIC KEY-----"
SSO_JWT_ISSUER=fluxer-sso

# SSO Token TTLs (in seconds)
SSO_ACCESS_TOKEN_TTL=900
SSO_REFRESH_TOKEN_TTL=2592000
SSO_SESSION_TTL=2592000

# SSO Cookie settings
SSO_COOKIE_DOMAIN=
SSO_COOKIE_SECURE=false

# Allowed redirect URIs (comma-separated). Defaults to API + App callback URLs.
SSO_ALLOWED_REDIRECT_URIS=
